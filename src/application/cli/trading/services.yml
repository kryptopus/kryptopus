services:
  display_open_positions:
    class: "%__dirname%/DisplayOpenPositions.command"
    arguments:
      - "@trading_position_repository"
    tags:
      - { name: "solfege.console.command" }

  start_position_checker:
    class: "%__dirname%/StartTradingAutomation.command"
    tags:
      - { name: "solfege.console.command" }

  start_trading_automation:
    class: "%__dirname%/StartTradingAutomation.command"
    tags:
      - { name: "solfege.console.command" }

  stop_trading_automation:
    class: "%__dirname%/StopTradingAutomation.command"
    tags:
      - { name: "solfege.console.command" }

  display_trading_automation_status:
    class: "%__dirname%/DisplayTradingAutomationStatus.command"
    tags:
      - { name: "solfege.console.command" }

  trading_automation_daemon:
    class: "%__dirname%/Daemon.command"
    arguments:
      - "%trading.strategies%"
    tags:
      - { name: "solfege.console.command" }

  create_trade_position:
    class: "%__dirname%/CreatePosition.command"
    arguments:
      - "@exchange_builder"
      - "@trading_service_registry"
    tags:
      - { name: "solfege.console.command" }

  backtest_strategy_command:
    class: "%__dirname%/BacktestStrategy.command"
    arguments:
      - "@trading_service_registry"
      - "@trading_backtest_order_resolver"
      - "@trading_backtest_order_service"
      - "@trading_backtest_position_service"
    tags:
      - { name: "solfege.console.command" }


