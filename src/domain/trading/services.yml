services:
  trading_strategy_registry:
    class: "domain/trading/StrategyRegistry"

  trading_service_registry:
    class: "domain/trading/ServiceRegistry"

  trading_position_service:
    class: "domain/trading/service/PositionService"
    tags:
      - { name: "kryptopus.trading.service", id: "position" }

  trading_order_service:
    class: "domain/trading/service/OrderService"
    tags:
      - { name: "kryptopus.trading.service", id: "order" }

  trading_backtest_order_registry:
    class: "domain/trading/backtest/OrderRegistry"

  trading_backtest_order_resolver:
    class: "domain/trading/backtest/OrderResolver"
    arguments:
      - "@trading_backtest_order_registry"
      - "@candlestick_resolver"

  trading_backtest_order_service:
    class: "domain/trading/backtest/service/OrderService"
    arguments:
      - "@candlestick_resolver"
      - "@trading_backtest_order_registry"

  trading_backtest_position_service:
    class: "domain/trading/backtest/service/PositionService"
    arguments:
      - "@trading_backtest_position_repository"
      - "@trading_backtest_order_service"

  trading_backtest_position_repository:
    class: "domain/trading/backtest/PositionRepository"

  trading_backtest_position_checker:
    class: "domain/trading/backtest/PositionChecker"

  trading_entry_tactic_buy_market_price_factory:
    class: "domain/trading/entryTactic/BuyAtMarketPriceFactory"
    tags:
      - { name: "kryptopus.trading.service", id: "entry.buyAtMarketPrice" }

  trading_exit_tactic_sell_limit_price_factory:
    class: "domain/trading/exitTactic/SellAtLimitPriceFactory"
    tags:
      - { name: "kryptopus.trading.service", id: "exit.sellAtLimitPrice" }

